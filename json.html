<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
  </head>
  <body>
    <script>
      //********** 문제 ********* //
      /*
저기 징검다리가 보이지? 내 친구들이 징검다리를 건널거야! 하지만 징검다리는 버틸수 있는 내구도가 한계가 있지! 내 친구들의 **몸무게**, **돌의 내구도**, **친구들의 점프력**을 고려하여 내 친구 루비독, 피치피독, 씨-독, 코볼독이 각각 다리를 건널 수 있는지 알아봐줘! 친구들은 더 추가 될 수도, 덜 건널 수도 있어!

1. 각 돌들이 얼마나 버틸수 있는지 배열로 주어집니다. (내구도 0까지는 독의 몸무게를 버틸 수 있습니다. 0미만이 되면 독은 살아남지 못합니다.)

2. 각 독들의 개인정보가 JSON(JSON은 큰 따옴표로 묶여야 합니다. **가능하다면 json을 import하여 풀어보세요!**)으로 주어집니다. 개인정보는 보호되지 않습니다.

3. 각 돌에 독들이 착지할 때 돌의 내구도는 몸무게만큼 줄어듭니다.
    ex) [1,2,1,4] 각 돌마다 몸무게 1인 독 1마리 2마리 1마리 4마리의 착지를 버틸 수 있습니다.

4. 독들의 점프력이 각자 다릅니다. 
    ex) 점프력이 2라면 2칸씩 점프하여 착지합니다.

4. 각 독들은 순서대로만 다리를 건넙니다.
 */

      //let 내구도 = [1, 2, 1, 4];
      let 내구도 = [5, 3, 4, 1, 3, 8, 3];
      let 독 = [
        //<- JSON 형식
        {
          이름: '루비독',
          나이: '95년생',
          점프력: '3',
          몸무게: '4',
        },
        {
          이름: '피치독',
          나이: '95년생',
          점프력: '3',
          몸무게: '3',
        },
        {
          이름: '씨-독',
          나이: '72년생',
          점프력: '2',
          몸무게: '1',
        },
        {
          이름: '코볼독',
          나이: '59년생',
          점프력: '1',
          몸무게: '1',
        },
      ];
      // **출력**
      //생존자 : ['씨-독']

      //   ******** 문제풀이 ********* //
      /*
    해결방안:
    1) json형식(object) 데이터 안에 있는 이름만 먼저 출력하는 function 만든다
    -- 이름을 담을 array를 선언하고 'push' 메소드로 json 데이터 이름들을 넣는다
    2) 개별독의 점프력(인덱스)과 몸무게를 가져온다
    3) 점프력-1한 인덱스에서 몸무게만큼 값을 뺴준다
    4) 징검다리 위치의 내구도가 0의 값인 경우, 물에 빠지므로 그 위치의 독의 이름을 fail로 만든다 
    5) 
    */
      function 징검다리를건너라(내구도, 독) {
        answer = [];
        for (let 개별독 of 독) {
          let 독의위치 = 0;
          let 실패 = false; //초기화
          while (독의위치 < 내구도.length - 1) {
            독의위치 += parseInt(개별독['점프력'], 10); //다리를 건넌 경우 -- parseInt(' ',10)으로 독의위치를 누적시킨다
            내구도[독의위치 - 1] -= parseInt(개별독['몸무게'], 10);
            if (내구도[독의위치 - 1] < 0) {
              //돌의내구도가 0보다 작은 곳을 밟은 경우 -> 물에빠짐 -> while문을 빠져나감(독의 위치는 초기화 되어야함_line 40)
              실패 = true;
              break;
            }
          }
          if (!실패) {
            answer.push(개별독['이름']);
          }
        }
        return answer; //answer -- 살아남은 독 이름
      }

      console.log(징검다리를건너라(내구도, 독));
    </script>
  </body>
</html>
